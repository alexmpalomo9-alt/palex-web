<mat-sidenav-container class="sidenav-container" [class.dark-theme]="isDarkMode">
  <!-- Carrito -->
  <mat-sidenav #cartSidenav mode="over" position="end" class="cart-sidenav">
    <app-cart></app-cart>
  </mat-sidenav>

  <mat-sidenav-content>
    <section class="menu-flyer" *ngIf="restaurant$ | async as restaurant">
      <!-- BotÃ³n Carrito -->
      <button
        mat-fab
        color="primary"
        (click)="cartSidenav.toggle()"
        class="cart-button"
        matTooltip="Ver carrito"
      >
        ðŸ›’
        <span
          *ngIf="cartQuantity$ | async as qty"
          class="cart-qty"
          [class.has-items]="qty > 0"
        >
          {{ qty }}
        </span>
      </button>

      <!-- Selector del menÃº + MenÃº final -->
      <app-menu-selector
        [restaurant]="restaurant"
        [categories]="categories"
        [offerProducts$]="offerProducts$"
        [menuType]="menuType"
        (addProduct)="addProductToCart($event)"
        (openImage)="openImageModal($event)"
      ></app-menu-selector>

      <!-- Modal de imagen -->
      <div
        class="image-modal"
        *ngIf="selectedImage"
        (click)="closeImageModal()"
      >
        <img [src]="selectedImage" alt="Imagen ampliada" />
      </div>
    </section>
  </mat-sidenav-content>
</mat-sidenav-container>
